<!DOCTYPE HTML>
<html>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <head>

      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
       integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
       crossorigin=""/>
      <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
        integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
        crossorigin="">
      </script>
      <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.3.0"></script>

      <script type="text/javascript" src="AdTech_Heatmap.js"></script>

  </head>

<body>
  <div class=”container”>
 <br>
 <div class=”jumbotron”>
 <h1 class="display-4">Send Message</h1>
 <br>
 <input id = “name” class=”form-control” placeholder=”Name”>
 <br>
 <textarea id = “message” class=”form-control” placeholder="Your Message Here">
</textarea>
 <br>
 <button id=”send” class=”btn btn-success”>Send</button>
 </div>
 <div id=”messages”>

</div>
</div>

  <div id="mapid" style="width: 800px; height: 500px;"></div>

  <!--<p>Is this work?</p>-->



  <!--Data gatering, all data supplied in this section is provided from user
  input on the front end-->
  <script type="text/javascript">
    let atl_zips = ['30002', '30030', '30032', '30033', '30079', '30080', '31106',
                    '31107', '31119', '31126', '31131', '31193', '31195', '31196',
                    '30303', '30305', '30306', '30307', '30308', '30309', '30310',
                    '30311', '30312', '30313', '30314', '30315', '30316', '30317',
                    '30318', '30319', '30324', '30326', '30327', '30329', '30330',
                    '30337', '30339', '30341', '30342', '30344', '30345', '30354',
                    '30377', '30380', '30384', '30385', '30388', '30392', '30394',
                    '30396', '30398'];

    let dc_zips = ['20009', '20016', '20002', '20015', '20020', '20032', '20019',
                   '20017', '20722', '20011', '20007', '20024', '20003', '20001',
                   '20008', '20012', '20010', '20036', '20037', '20018', '20319',
                   '20006', '20004'];



    let request1 = [];
    let data_set = "pop_county";            //Population by county
    let sex = "b";                          //Both b m f
    let race = "all";                       //All all white (wh), black (bl), asian (as), hispanic (hi)
    let age = ["0"];                        //All age groups
    let year = "11";                        //2018
    let state = ["Alabama", "Mississippi", "Georgia", "Tennessee"];   //States Alabama Georgia Mississippi Tennessee


    request1.push(state);
    request1.push(age);
    request1.push(year);
    request1.push(sex+race);
    request1.push(data_set);
    //console.log(request1);

    let request2 = [];
    data_set = "pop_county";            //Population by county
    sex = "f";                          //Both b m f
    race = "hi";                        //All all white (wh), black (bl), asian (as), hispanic (hi)
    age = ["5", "6"];                   //All age groups
    year = "11";                        //2018
    state = ["Alabama", "Mississippi", "Georgia", "Tennessee"];   //States Alabama Georgia Mississippi Tennessee
    //state = ["Georgia"]; //California


    request2.push(state);
    request2.push(age);
    request2.push(year);
    request2.push(sex+race);
    request2.push(data_set);
    //console.log(request2);


    let my_map = new AdTech_Heatmap('mapid', atl_zips);

    //server communication
    my_map.add_choropleth_layer(request1);
    my_map.add_shape_layer("zip_codes")


    //
    //my_map.add_choropleth_layer(request1);
    //my_map.add_choropleth_layer(request2);
    //my_map.build_map();
  </script>


</body>

</html>
